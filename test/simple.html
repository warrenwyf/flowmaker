<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html" charset="utf-8" />
	<title>flowmaker - simple test</title>

	<style type="text/css">
	html, body {
		overflow: hidden;
		width: 100%;
		height: 100%;
		margin: 0;
		padding: 0;
	}

	#flow {
		width: 100%;
		height: 100%;
		touch-action: none;
	}
	</style>
</head>

<body>

	<div id="flow"></div>

	<script type="text/javascript" src="../dist/flowmaker.js"></script>
	<script type="text/javascript">
	console.log('flowmaker version:', flowmaker.version);

	var flow = new flowmaker.Flow('flow');

	var nodes1 = [];
	for (var i = 0; i < 5; i++) {
		var node1 = new flowmaker.Node({
			icon: 'img/icon-unknown.png',
			rightPorts: [{
				type: 'output',
			}],
		});
		flow.addNode(node1, 200, 200 + 100 * i);

		nodes1.push(node1);
	}

	var nodes2 = [];
	for (var i = 0; i < 5; i++) {
		var node2 = new flowmaker.Node({
			name: 'Cache',
			desc: '',
			icon: 'img/icon-cache.png',
			bgColor: '#faa33e',
			leftPorts: [{
				type: 'input',
			}, {
				type: 'input',
			}],
			rightPorts: [{
				type: 'output',
			}],
		});
		flow.addNode(node2, 400, 200 + 100 * i);

		nodes2.push(node2);
	}

	for (var i = 0; i < 5; i++) {
		var rand = parseInt(Math.random() * 5);

		flow.connect(nodes1[rand].getId(), 'r-0', nodes2[i].getId(), 'l-1');
	}
	</script>

</body>

</html>